<article class="book-item">
  {{ if .Params.cover }}
  <div class="book-cover">
    <a href="{{ .Permalink }}">
      <img src="{{ .Params.cover }}" alt="{{ .Title }} cover">
    </a>
  </div>
  {{ end }}
  
  <div class="book-details">
    <h2><a href="{{ .Permalink }}">{{ .Title }}</a></h2>
    {{ with index .Params "published date" }}
    <time>{{ . | time.Format "January 2, 2006" }}</time>
    {{ else }}
    <time>{{ .Date.Format "January 2, 2006" }}</time>
    {{ end }}
    
    {{ if .Params.author }}
    <p class="book-author">by 
    {{ if reflect.IsSlice .Params.author }}
      {{ delimit .Params.author ", " }}
    {{ else }}
      {{ .Params.author }}
    {{ end }}
    </p>
    {{ end }}
    
    {{ if .Params.rating }}
    <p class="book-rating">Rating: {{ .Params.rating }}/5</p>
    {{ end }}

    {{ with .Params.tags }}
    <div class="book-tags" style="display:flex;flex-wrap:wrap;gap:0.4rem;margin-top:0.6rem;padding-top:0.5rem;border-top:1px solid #eee;">
      {{ range . }}
      <span class="book-tag" style="display:inline-block;font-size:0.65rem;font-weight:500;font-variant:normal;letter-spacing:0.03em;text-decoration:none;padding:0.2rem 0.55rem;border-radius:10px;border:1px solid #e0d6c8;background:linear-gradient(135deg,#faf8f5,#f3efe9);color:#7a6e5d;white-space:nowrap;">{{ . }}</span>
      {{ end }}
    </div>
    {{ end }}
  </div>
</article>
