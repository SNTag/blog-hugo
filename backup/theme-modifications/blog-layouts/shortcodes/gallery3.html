<!-- Original credits to "https://julianstier.com/posts/2020/03/hugo-and-lightbox/" -->
<!-- Being modified to work with cloudinary. Work in progress. -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/lightbox2/2.11.1/css/lightbox.min.css" />
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/lightbox2/2.11.1/js/lightbox.min.js"></script>

{{ $image := (.Page.Resources.ByType "image") }}
{{ with $image }}
    {{ range $i, $e := . }}
      {{ $resized := $e.Fill "900x90 q100" }}

      {{ if eq $i 0 }} <!-- first image -->
        {{ $resized = $e.Fill "900x900 q100" }}
      {{ end }}

      <a href="{{ $e.Permalink }}" data-lightbox="x"><img src="{{ $resized.Permalink }}" /></a>
    {{ end }}
{{ end }}
